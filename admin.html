<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>MMG Radio Admin</title>
  <style>
    body { font-family: sans-serif; background: #111; color: #eee; padding: 20px; }
    input, button { margin: 6px; padding: 8px; }
    .hidden { display: none; }
  </style>
</head>
<body>
  <h1>MMG Radio Admin</h1>
  
  <div id="loginBox">
    <input type="password" id="password" placeholder="Admin Password">
    <button onclick="login()">Login</button>
  </div>
  
  <div id="adminPanel" class="hidden">
    <h2>Add Station</h2>
    <input id="name" placeholder="Name"><br>
    <input id="url" placeholder="Stream URL"><br>
    <input id="img" placeholder="Image URL"><br>
    <button onclick="addStation()">Add</button>
    
    <h2>Manage</h2>
    <input id="selectName" placeholder="Station Name">
    <button onclick="selectStation()">Select</button>
    <button onclick="removeStation()">Remove</button>
  </div>
  
  <script>
    const API_URL = "YOUR_APPS_SCRIPT_WEB_APP_URL";
    const ADMIN_PASS = "mishra"; // change this

    function login() {
      if (document.getElementById("password").value === ADMIN_PASS) {
        document.getElementById("loginBox").classList.add("hidden");
        document.getElementById("adminPanel").classList.remove("hidden");
      } else {
        alert("Wrong password!");
      }
    }
    
    async function addStation() {
      const body = {
        action: "add",
        name: document.getElementById("name").value,
        stream_url: document.getElementById("url").value,
        image_url: document.getElementById("img").value
      };
      await fetch(API_URL, { method: "POST", body: JSON.stringify(body) });
      alert("Station added!");
    }
    
    async function selectStation() {
      const body = { action: "select", name: document.getElementById("selectName").value };
      await fetch(API_URL, { method: "POST", body: JSON.stringify(body) });
      alert("Station selected!");
    }
    
    async function removeStation() {
      const body = { action: "remove", name: document.getElementById("selectName").value };
      await fetch(API_URL, { method: "POST", body: JSON.stringify(body) });
      alert("Station removed!");
    }
  </script>
</body>
</html>
